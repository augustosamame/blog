<p id="notice"><%= notice %></p>
<div class="container">
  <div class="page-header">
    <%= link_to new_post_path, :class => 'btn btn-primary' do %>
      <span class="glyphicon glyphicon-plus"></span>
      New Blog Post
    <% end %>
    <h1>Blog Posts</h1>
  </div>
  <div class="table-responsive">
    <table class="table table-striped table-bordered table-hover">
      <thead>
        <tr>
          <th>Post Title</th>
          <th>Content</th>
          <th>Author</th>
          <th>Status</th>
          <th>Type</th>
          <th># of Comments</th>
          <th>Published?</th>
          <th>Publicly Visible?</th>
          <th>Categories</th>
          <th></th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% @posts.each do |post| %>
          <tr>
            <td>
              <%= post.title %>
            </td>
            <td>
              <%= post.body[0..200] %>
            </td>
            <td>
              <%= "#{post.user.first_name} #{post.user.last_name}" %>
            </td>
            <td>
              <%= post.status %>
            </td>
            <td>
              <%= post.post_type %>
            </td>
            <td>
              <%= post.numComments %>
            </td>
            <td>
              <%= post.post_published %>
            </td>
            <td>
              <%= post.post_public %>
            </td>
            <td>
              <%= post.tag_list %>
            </td>
            <td>
              <%= link_to 'Show', post %>
            </td>
            <td>
              <%= link_to 'Edit', edit_post_path(post) %>
            </td>
            <td>
              <%= link_to 'Destroy', post, :data => { confirm: 'Are you sure?' }, :method => :delete %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <% tag_cloud(@tags, %w(tag-css1 tag-css2 tag-css3 tag-css4)) do |tag, css_class| %>
    <% tag_cloud_name = tag.name + " (#{tag.count.to_s})" %>
    <%= link_to tag_cloud_name, { :action => :index, :tag => tag.name }, :class => css_class %>
  <% end %>
</div>
